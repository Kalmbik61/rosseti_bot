# üö® –°–†–û–ß–ù–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ü–æ—Ç–µ—Ä—è –ë–î –ø—Ä–∏ –¥–µ–ø–ª–æ–µ

## –ü—Ä–æ–±–ª–µ–º–∞

–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —É–¥–∞–ª—è–µ—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –Ω–æ–≤–æ–º –¥–µ–ø–ª–æ–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä.

## –ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ

### ‚úÖ –î–õ–Ø DOKPLOY –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–ï–ô:

1. **–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö Dokploy —É–∫–∞–∑–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π compose —Ñ–∞–π–ª:**

   ```
   docker-compose.dokploy.yml
   ```

   ‚ùå –ù–ï –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `docker-compose.yml`

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ volumes –≤ Dokploy UI:**
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Å–µ–∫—Ü–∏—é **Volumes**
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å—É—â–µ—Å—Ç–≤—É—é—Ç named volumes:
     - `rosseti_data` (–±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö)
     - `rosseti_logs` (–ª–æ–≥–∏)
     - `rosseti_reports` (–æ—Ç—á–µ—Ç—ã)

### ‚úÖ –î–õ–Ø –û–ë–´–ß–ù–û–ì–û DOCKER:

1. **–°–æ–∑–¥–∞–π—Ç–µ –±—ç–∫–∞–ø –ü–ï–†–ï–î –¥–µ–ø–ª–æ–µ–º:**

   ```bash
   ./scripts/backup-before-deploy.sh
   ```

2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π docker-compose.yml:**

   - –§–∞–π–ª —É–∂–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω –≤ –ø—Ä–æ–µ–∫—Ç–µ
   - –¢–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç named volumes –≤–º–µ—Å—Ç–æ bind mounts

3. **–ï—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ —É–∂–µ –ø–æ—Ç–µ—Ä—è–ª–∏—Å—å - –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∏–∑ –±—ç–∫–∞–ø–∞:**

   ```bash
   # –ù–∞–π–¥–∏—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–∏–π –±—ç–∫–∞–ø
   ls ./backups/

   # –ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
   cd ./backups/deploy_YYYYMMDD_HHMMSS/
   ./restore.sh
   ```

## –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### ‚ùå –°–¢–ê–†–ê–Ø –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø (–ø—Ä–æ–±–ª–µ–º–Ω–∞—è):

```yaml
volumes:
  - ./data:/app/data # bind mount - –º–æ–∂–µ—Ç –ø–æ—Ç–µ—Ä—è—Ç—å—Å—è
```

### ‚úÖ –ù–û–í–ê–Ø –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–∞—è):

```yaml
volumes:
  - rosseti_data:/app/data  # named volume - —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è

volumes:
  rosseti_data:
    driver: local
```

## –ü—Ä–æ—Ñ–∏–ª–∞–∫—Ç–∏–∫–∞ –Ω–∞ –±—É–¥—É—â–µ–µ

1. **–ü–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º –¥–µ–ø–ª–æ–µ–º –¥–µ–ª–∞–π—Ç–µ –±—ç–∫–∞–ø:**

   ```bash
   ./scripts/backup-before-deploy.sh
   ```

2. **–î–ª—è Dokploy - –≤–∫–ª—é—á–∏—Ç–µ –∞–≤—Ç–æ–±—ç–∫–∞–ø—ã –≤ UI**

3. **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ª–æ–≥–∏ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è:**

   ```bash
   # –ü–æ–∏—Å–∫ –æ—à–∏–±–æ–∫ —Å –ë–î
   docker logs rosseti-parser-bot | grep -i database

   # –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
   docker logs rosseti-parser-bot | grep "–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î"
   ```

## –ï—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –≤—Å–µ –µ—â–µ —Ç–µ—Ä—è—é—Ç—Å—è

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –∫–∞–∫–æ–π compose —Ñ–∞–π–ª –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è**
2. **–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ volumes —Å–æ–∑–¥–∞—é—Ç—Å—è –∫–∞–∫ named volumes**
3. **–°–¥–µ–ª–∞–π—Ç–µ –±—ç–∫–∞–ø –∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∫—Ä–∏–ø—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è**

## –≠–∫—Å—Ç—Ä–µ–Ω–Ω–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ

–ï—Å–ª–∏ –ë–î –ø–æ—Ç–µ—Ä—è–Ω–∞ –∏ –±—ç–∫–∞–ø–∞ –Ω–µ—Ç:

1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –¥–æ–ª–∂–Ω—ã –∑–∞–Ω–æ–≤–æ –ø–æ–¥–ø–∏—Å–∞—Ç—å—Å—è:**

   ```
   /subscribe
   ```

2. **–ê–¥–º–∏–Ω –º–æ–∂–µ—Ç –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –∏–Ω—Ç–µ—Ä–≤–∞–ª:**

   ```
   /admin_set_interval 6
   ```

3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É:**
   ```
   /admin_stats
   ```

**üí° –°–æ–≤–µ—Ç:** –í—Å–µ–≥–¥–∞ –¥–µ–ª–∞–π—Ç–µ –±—ç–∫–∞–ø –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º!
